{% extends "main/base.html" %}
{% block title %}<title>WHG::Architecture</title>{% endblock %}

{% block content %}
{% load static %}

  <div class="container">
    <div class="d-flex justify-content-center mt-3">
      <h3>System Architecture and Technical Details</h3>
    </div>
    <div id="system_content" class="mx-3">
      <p class="small">Notes about future improvements and missing functionality appear <mark>highlighted like this</mark>.</p>
      <p class="lead">Pipeline, architecture, and software</p>
          <div class="row">
          <div class="col-sm-4">  
            <p class="mb-1">
              <img src="{% static 'images/system01.png'%}" align="left" width="350" />Software</p>
            <ul style="padding-left:1.2rem;">
              <li>Django 2.2.4 (Python framework)</li>
              <li>PostgreSQL 10 (relational database)</li>
              <li>Elasticsearch 6.6 (index)</li>
              <li>Nginx, Gunicorn (web server)</li>
              <li>Celery (task queueing)</li>
              <li>Ubuntu 18.04 (operating system)</li>
              <li>Front-end: Bootstrap 4, Leaflet, JQuery, Javascript</li>
            <ul>
          </div>
          <div class="col-sm-8">
            <ul>
              <li>Interfaces to our two linked data stores, a relational database (db) and a high-speed index (idx), include a graphic web application (GUI) and APIs.</li>
              <li>Contributed data in Linked Places or LP-TSV format is uploaded by registered users to the database (-> db) using GUI screens.</li>
              <li>Once uploaded, datasets are managed in a set of GUI screens, where they can be browsed and reconciled against Getty TGN and Wikidata Reconciliation entails initiating a task and reviewing prospective matches returned.</li>
              <li>Confirming matches to TGN and/or Wikidata augments the contributed dataset by adding new <i>place_link</i> and, if desired, <i>place_geom</i> records. NOTE: The original contribution can always be retrieved in its original state; i.e. omitting records generated by the reconciliation review step. </li>
              <li>Once an uploaded dataset is reconciled and as many place_link records are generated for it as possible, it can be accessioned to the WHG index (idx &lt;- db ). At this time that step will be performed by WHG staff, however...</li>
              <li>Accessioning to the WHG index is another reconciliation process, so there are two steps: initiating the task and reviewing results &ndash; in this case only some. Incoming records that share a link to an external gazetteer (e.g. tgn, geonames, wikidata, etc.) with a record already in our index are added automatically, and associated with that match <i>and any other similarly linked "siblings"</i>. </li>
              <li>Incoming records that don't share one or more links to existing index items are candidates to become new "parent" ("seed") records in the index. But they must be reviewed by the dataset owner first, as was done in an earlier step.</li>
              <li>That's it!</li>
            </ul>      
          </div>
      </div>
    </div>
  </div>
{% endblock %}
